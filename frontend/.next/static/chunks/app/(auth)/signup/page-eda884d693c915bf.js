(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{1007:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2919:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(9946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},5239:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>y});var a=r(5155),t=r(2115),l=r(6874),n=r.n(l),o=r(5695),c=r(7930),i=r(1007),d=r(9946);let x=(0,d.A)("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),m=(0,d.A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var h=r(2919),u=r(8749),g=r(2657);function y(){let e=(0,o.useRouter)(),[s,r]=(0,t.useState)({username:"",password:"",fullName:"",confirmPassword:"",branchId:1}),[l,d]=(0,t.useState)(!1),[y,p]=(0,t.useState)(null),[f,v]=(0,t.useState)(!1),[b,j]=(0,t.useState)(!1),N=e=>{let{name:s,value:a,type:t}=e.target;r(r=>({...r,[s]:"checkbox"===t?e.target.checked:a}))};async function w(r){if(r.preventDefault(),console.log("Form data:",s),console.log("Username:",s.username,"Length:",s.username.length),console.log("Password:",s.password,"Length:",s.password.length),console.log("FullName:",s.fullName,"Length:",s.fullName.length),console.log("ConfirmPassword:",s.confirmPassword,"Length:",s.confirmPassword.length),!(s.username.trim()&&s.password.trim()&&s.fullName.trim()&&s.branchId?s.password.length<6?(p("รหัสผ่านต้องมีอย่างน้อย 6 ตัวอักษร"),!1):s.password===s.confirmPassword||(p("รหัสผ่านไม่ตรงกัน"),!1):(p("กรุณากรอกข้อมูลให้ครบถ้วน"),!1)))return void console.log("Validation failed");d(!0),p(null);try{let r={username:s.username.trim(),password:s.password,fullName:s.fullName.trim(),branchId:s.branchId};console.log("Sending request with:",r);let a=await fetch("".concat("http://localhost:5001","/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}),t=await a.json();if(console.log("Response:",t),!a.ok)throw Error((null==t?void 0:t.message)||"การสมัครสมาชิกล้มเหลว");e.push("/login?message=registration_success")}catch(e){console.error("Signup error:",e),p(e.message||"เกิดข้อผิดพลาดในการสมัครสมาชิก")}finally{d(!1)}}return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-white to-indigo-50 p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:(0,a.jsx)(c.A,{className:"w-8 h-8 text-white"})})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"สร้างบัญชีใหม่"}),(0,a.jsx)("p",{className:"text-gray-600",children:"สมัครสมาชิกเพื่อเข้าถึงระบบจัดการคลังสินค้า"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-6 sm:p-8",children:[(0,a.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[y&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-5 h-5 bg-red-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-3 h-3 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("p",{className:"text-sm text-red-700",children:y})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"ชื่อ-นามสกุล"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(i.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"text",name:"fullName",value:s.fullName,onChange:N,className:"w-full pl-10 pr-4 py-3 border border-gray-300 text-gray-700 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"กรอกชื่อ-นามสกุล",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"สาขา"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)(x,{})})}),(0,a.jsx)("select",{name:"branchId",value:s.branchId,onChange:N,className:"w-full pl-10 pr-4 py-3 border border-gray-300 text-gray-700 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors bg-white",required:!0,children:(0,a.jsx)("option",{value:1,children:"สาขาหลัก (Main Branch)"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"ชื่อผู้ใช้"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(m,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"text",name:"username",value:s.username,onChange:N,className:"w-full pl-10 pr-4 py-3 border border-gray-300 text-gray-700 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"กรอกชื่อผู้ใช้",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"รหัสผ่าน"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(h.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:f?"text":"password",name:"password",value:s.password,onChange:N,className:"w-full pl-10 pr-12 py-3 border border-gray-300 text-gray-700 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"กรอกรหัสผ่าน",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>v(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:f?(0,a.jsx)(u.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,a.jsx)(g.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"รหัสผ่านต้องมีอย่างน้อย 6 ตัวอักษร"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"ยืนยันรหัสผ่าน"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(h.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:b?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:N,className:"w-full pl-10 pr-12 py-3 border border-gray-300 text-gray-700 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"กรอกรหัสผ่านอีกครั้ง",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>j(!b),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:b?(0,a.jsx)(u.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,a.jsx)(g.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),(0,a.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-4 rounded-xl font-medium hover:from-orange-600 hover:to-orange-700 focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:l?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"กำลังสร้างบัญชี..."]}):"สร้างบัญชีใหม่"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["มีบัญชีอยู่แล้ว?"," ",(0,a.jsx)(n(),{href:"/login",className:"font-medium text-orange-600 hover:text-orange-700 underline-offset-2 hover:underline transition-colors",children:"เข้าสู่ระบบ"})]})})]}),(0,a.jsx)("div",{className:"text-center mt-8",children:(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["\xa9 ",new Date().getFullYear()," AU.NONGTOTA. All rights reserved."]})})]})})}},7930:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(9946).A)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},8749:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9263:(e,s,r)=>{Promise.resolve().then(r.bind(r,5239))}},e=>{e.O(0,[484,441,964,358],()=>e(e.s=9263)),_N_E=e.O()}]);