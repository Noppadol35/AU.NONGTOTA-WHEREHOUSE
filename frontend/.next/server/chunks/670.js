exports.id=670,exports.ids=[670],exports.modules={9728:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>E});var d=c(60687),e=c(43210),f=c(63213),g=c(16189);function h({size:a="md",text:b="กำลังโหลด..."}){return(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center p-8",children:[(0,d.jsx)("div",{className:`animate-spin rounded-full border-b-2 border-blue-600 ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[a]}`}),b&&(0,d.jsx)("p",{className:"mt-4 text-sm text-gray-600",children:b})]})}function i({children:a,requiredRole:b}){let{user:c,loading:e}=(0,f.A)();return((0,g.useRouter)(),e)?(0,d.jsx)(h,{size:"lg",text:"กำลังตรวจสอบสิทธิ์..."}):c&&(!b||b.includes(c.role))?(0,d.jsx)(d.Fragment,{children:a}):null}var j=c(49625),k=c(32532),l=c(47765),m=c(20813),n=c(88059),o=c(6727),p=c(98133),q=c(53411),r=c(82679),s=c(84027),t=c(94478),u=c(78272),v=c(14952),w=c(11860);let x=[{href:"/dashboard",label:"Dashboard",icon:(0,d.jsx)(j.A,{size:18})},{label:"Management",icon:(0,d.jsx)(k.A,{size:18}),children:[{href:"/products",label:"Products",icon:(0,d.jsx)(l.A,{size:18})},{href:"/stock-in",label:"Stock In",icon:(0,d.jsx)(m.A,{size:18})},{href:"/stock-out",label:"Stock Out",icon:(0,d.jsx)(n.A,{size:18})},{href:"/billing",label:"Billing",icon:(0,d.jsx)(o.A,{size:18})},{href:"/cycle-count",label:"Cycle Count",icon:(0,d.jsx)(p.A,{size:18})},{href:"/reports",label:"Reports",icon:(0,d.jsx)(q.A,{size:18})}]},{label:"Job",icon:(0,d.jsx)(r.A,{size:18}),children:[{href:"/job-orders",label:"Job Orders",icon:(0,d.jsx)(o.A,{size:16})}]}];function y({mobileOpen:a,onClose:b}){let[c,h]=(0,e.useState)(new Set),i=(0,g.useRouter)(),{user:j}=(0,f.A)(),k=()=>{let a=[...x];return j?.role==="OWNER"&&a.push({href:"/settings",label:"Settings",icon:(0,d.jsx)(s.A,{size:18})}),a},l=a=>{let b=new Set(c);b.has(a)?b.delete(a):b.add(a),h(b)},m=a=>{a&&(i.push(a),b&&b())};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"hidden xl:flex xl:flex-col xl:w-64 xl:fixed xl:inset-y-0 xl:z-40 bg-white border-r  shadow-lg",children:[(0,d.jsx)("div",{className:"flex items-center justify-center h-20 px-6 border-b border-gray-200 bg-gradient-to-r from-orange-50 to-indigo-50",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-300 to-orange-500 rounded-2xl flex items-center justify-center shadow-lg",children:(0,d.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)(t.A,{})})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 to-orange-500 bg-clip-text text-transparent",children:"AU.NONGTOTA"}),(0,d.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"WAREHOUSE SYSTEM"})]})]})}),(0,d.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:k().map((a,b)=>(0,d.jsx)("div",{children:a.href?(0,d.jsxs)("button",{onClick:()=>m(a.href),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-700 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all duration-200 group",children:[(0,d.jsx)("div",{className:"w-6 h-6 flex items-center justify-center text-gray-500 group-hover:text-orange-600 transition-colors",children:a.icon}),(0,d.jsx)("span",{className:"font-medium",children:a.label})]}):(0,d.jsxs)("div",{children:[(0,d.jsxs)("button",{onClick:()=>l(a.label),className:"w-full flex items-center justify-between px-4 py-3 text-left text-gray-700 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all duration-200 group",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-6 h-6 flex items-center justify-center text-gray-500 group-hover:text-orange-600 transition-colors",children:a.icon}),(0,d.jsx)("span",{className:"font-medium",children:a.label})]}),(0,d.jsx)("div",{className:"w-5 h-5 flex items-center justify-center text-gray-400 group-hover:text-orange-600 transition-colors",children:c.has(a.label)?(0,d.jsx)(u.A,{size:16}):(0,d.jsx)(v.A,{size:16})})]}),c.has(a.label)&&a.children&&(0,d.jsx)("div",{className:"ml-6 mt-2 space-y-1",children:a.children.map((a,c)=>(0,d.jsxs)("button",{onClick:()=>m(a.href),className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-sm text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-all duration-200 group",children:[(0,d.jsx)("div",{className:"w-5 h-5 flex items-center justify-center text-gray-400 group-hover:text-orange-600 transition-colors",children:a.icon}),(0,d.jsx)("span",{children:a.label})]},`nav-child-${b}-${c}-${a.label}`))})]})},`nav-item-${b}-${a.label}`))}),(0,d.jsx)("div",{className:"p-4 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-orange-50",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"Version 1.0.0"}),(0,d.jsxs)("p",{className:"text-xs text-gray-400",children:["\xa9 ",new Date().getFullYear()," AU.NONGTOTA"]})]})})]}),(0,d.jsxs)("div",{className:`xl:hidden fixed inset-0 z-50 transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full"}`,children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-50 bg-opacity-10",onClick:b}),(0,d.jsxs)("div",{className:"fixed inset-y-0 left-0 flex w-80 max-w-[85vw] flex-col bg-white shadow-xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between h-20 px-6 border-b border-gray-200 bg-gradient-to-r from-orange-50 to-indigo-50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-300 to-orange-500 rounded-2xl flex items-center justify-center shadow-lg",children:(0,d.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)(t.A,{})})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 to-orange-500 bg-clip-text text-transparent",children:"AU.NONGTOTA"}),(0,d.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"WAREHOUSE SYSTEM"})]})]}),(0,d.jsx)("button",{onClick:b,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(w.A,{size:24})})]}),(0,d.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:k().map((a,b)=>(0,d.jsx)("div",{children:a.href?(0,d.jsxs)("button",{onClick:()=>m(a.href),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-700 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all duration-200 group",children:[(0,d.jsx)("div",{className:"w-6 h-6 flex items-center justify-center text-gray-500 group-hover:text-orange-600 transition-colors",children:a.icon}),(0,d.jsx)("span",{className:"font-medium",children:a.label})]}):(0,d.jsxs)("div",{children:[(0,d.jsxs)("button",{onClick:()=>l(a.label),className:"w-full flex items-center justify-between px-4 py-3 text-left text-gray-700 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all duration-200 group",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-6 h-6 flex items-center justify-center text-gray-500 group-hover:text-orange-600 transition-colors",children:a.icon}),(0,d.jsx)("span",{className:"font-medium",children:a.label})]}),(0,d.jsx)("div",{className:"w-5 h-5 flex items-center justify-center text-gray-400 group-hover:text-orange-600 transition-colors",children:c.has(a.label)?(0,d.jsx)(u.A,{size:16}):(0,d.jsx)(v.A,{size:16})})]}),c.has(a.label)&&a.children&&(0,d.jsx)("div",{className:"ml-6 mt-2 space-y-1",children:a.children.map((a,c)=>(0,d.jsxs)("button",{onClick:()=>m(a.href),className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-sm text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-all duration-200 group",children:[(0,d.jsx)("div",{className:"w-5 h-5 flex items-center justify-center text-gray-400 group-hover:text-orange-600 transition-colors",children:a.icon}),(0,d.jsx)("span",{children:a.label})]},`nav-child-${b}-${c}-${a.label}`))})]})},`nav-item-${b}-${a.label}`))}),(0,d.jsx)("div",{className:"p-4 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-orange-50",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"Version 1.0.0"}),(0,d.jsxs)("p",{className:"text-xs text-gray-400",children:["\xa9 ",new Date().getFullYear()," AU.NONGTOTA"]})]})})]})]})]})}var z=c(12941),A=c(97051),B=c(58869),C=c(40083);function D({onMenuClick:a}){let{user:b,logout:c}=(0,f.A)(),e=async()=>{try{await c()}catch(a){console.error("Logout failed:",a)}};return(0,d.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4 shadow-sm sticky top-0 z-30",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("div",{className:"flex items-center gap-3",children:a&&(0,d.jsx)("button",{onClick:a,className:"xl:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(z.A,{size:24})})}),(0,d.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,d.jsxs)("button",{className:"hidden sm:flex p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors relative",children:[(0,d.jsx)(A.A,{size:20}),(0,d.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,d.jsxs)("div",{className:"hidden sm:block text-right",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:b?.fullName||b?.username}),(0,d.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a){case"OWNER":return"bg-purple-100 text-purple-800";case"MANAGER":return"bg-blue-100 text-blue-800";case"WORKER":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(b?.role||"")}`,children:(a=>{switch(a){case"OWNER":return"เจ้าของ";case"MANAGER":return"ผู้จัดการ";case"WORKER":return"พนักงาน";default:return a}})(b?.role||"")})]}),(0,d.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-orange-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,d.jsx)(B.A,{size:16,className:"sm:w-5 sm:h-5 text-white"})}),(0,d.jsx)("button",{onClick:e,className:"p-2 text-gray-600 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"ออกจากระบบ",children:(0,d.jsx)(C.A,{size:18,className:"sm:w-5 sm:h-5"})})]})]})]})})}function E({children:a}){let[b,c]=(0,e.useState)(!1);return(0,d.jsx)(i,{children:(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[b&&(0,d.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden",children:(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-100 bg-opacity-10",onClick:()=>c(!1)})}),(0,d.jsx)(y,{mobileOpen:b,onClose:()=>c(!1)}),(0,d.jsxs)("div",{className:"xl:pl-64",children:[(0,d.jsx)(D,{onMenuClick:()=>c(!0)}),(0,d.jsx)("main",{className:"min-h-screen bg-gray-50",children:(0,d.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:a})})]}),(0,d.jsx)("button",{onClick:()=>c(!0),className:"fixed bottom-4 right-4 z-50 xl:hidden w-14 h-14 bg-orange-600 text-white rounded-full shadow-lg hover:bg-orange-700 transition-colors flex items-center justify-center",children:(0,d.jsx)(z.A,{size:24})})]})})}},19016:(a,b,c)=>{Promise.resolve().then(c.bind(c,9728))},29131:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>e});var d=c(61369);(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pp.poon/AU.NONGTOTA/frontend/src/contexts/AuthContext.tsx","useAuth");let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pp.poon/AU.NONGTOTA/frontend/src/contexts/AuthContext.tsx","AuthProvider")},41931:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},55464:(a,b,c)=>{Promise.resolve().then(c.bind(c,60448))},60448:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pp.poon/AU.NONGTOTA/frontend/src/app/(main)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pp.poon/AU.NONGTOTA/frontend/src/app/(main)/layout.tsx","default")},61135:()=>{},63213:(a,b,c)=>{"use strict";c.d(b,{A:()=>h,AuthProvider:()=>i});var d=c(60687),e=c(43210),f=c(16189);let g=(0,e.createContext)(void 0),h=()=>{let a=(0,e.useContext)(g);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a},i=({children:a})=>{let[b,c]=(0,e.useState)(null),[h,i]=(0,e.useState)(!0),j=(0,f.useRouter)(),k=async()=>{try{let a=await fetch("http://localhost:5001/auth/me",{credentials:"include"});if(a.ok){let b=await a.json();c(b.user)}else c(null)}catch(a){console.error("Auth check failed:",a),c(null)}finally{i(!1)}},l=async(a,b,d)=>{let e=await fetch("http://localhost:5001/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:a,password:b,rememberMe:d})});if(!e.ok)throw Error((await e.json()).message||"Login failed");c((await e.json()).user),j.push("/dashboard")},m=async()=>{try{await fetch("http://localhost:5001/auth/logout",{method:"POST",credentials:"include"})}catch(a){console.error("Logout failed:",a)}finally{c(null),j.push("/login")}};return(0,e.useEffect)(()=>{k()},[]),(0,d.jsx)(g.Provider,{value:{user:b,loading:h,login:l,logout:m,checkAuth:k},children:a})}},70440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(31658);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},81683:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},85244:(a,b,c)=>{Promise.resolve().then(c.bind(c,29131))},94431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,metadata:()=>f});var d=c(37413);c(61135);var e=c(29131);let f={title:"AU.NONGTOTA - WAREHOUSE SYSTEM",description:"ระบบจัดการคลังอะไหล่"};function g({children:a}){return(0,d.jsx)("html",{lang:"th",suppressHydrationWarning:!0,children:(0,d.jsx)("body",{suppressHydrationWarning:!0,children:(0,d.jsx)(e.AuthProvider,{children:a})})})}},94972:(a,b,c)=>{Promise.resolve().then(c.bind(c,63213))}};